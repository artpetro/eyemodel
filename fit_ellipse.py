import cv2 as cv
import numpy as np

coord=[[0.599204, 0.279760], [0.591223, 0.278016], [0.583208, 0.276676], [0.575230, 0.275758], [0.567362, 0.275277], [0.559664, 0.275226], [0.552201, 0.275596], [0.545035, 0.276379], [0.538232, 0.277563], [0.531858, 0.279137], [0.525979, 0.281088], [0.520661, 0.283405], [0.515975, 0.286074], [0.511941, 0.289064], [0.508584, 0.292345], [0.505930, 0.295884], [0.504007, 0.299648], [0.502842, 0.303603], [0.502466, 0.307715], [0.502908, 0.311951], [0.504202, 0.316276], [0.506318, 0.320654], [0.509226, 0.325047], [0.512894, 0.329416], [0.517290, 0.333718], [0.522379, 0.337912], [0.528125, 0.341951], [0.534487, 0.345791], [0.541425, 0.349382], [0.548855, 0.352701], [0.556689, 0.355719], [0.564838, 0.358408], [0.573214, 0.360740], [0.581723, 0.362686], [0.590273, 0.364218], [0.598772, 0.365308], [0.607128, 0.365925], [0.615259, 0.366081], [0.623085, 0.365784], [0.630528, 0.365044], [0.637514, 0.363873], [0.643970, 0.362280], [0.649827, 0.360277], [0.655018, 0.357872], [0.659479, 0.355076], [0.663199, 0.351930], [0.666165, 0.348475], [0.668367, 0.344752], [0.669794, 0.340801], [0.670438, 0.336662], [0.670286, 0.332372], [0.669330, 0.327969], [0.667558, 0.323489], [0.665017, 0.318980], [0.661750, 0.314488], [0.657802, 0.310060], [0.653217, 0.305742], [0.648035, 0.301576], [0.642299, 0.297604], [0.636052, 0.293868], [0.629333, 0.290403], [0.622216, 0.287236], [0.614774, 0.284391], [0.607079, 0.281892], [0.599204, 0.279760]]
ellipse = cv.fitEllipse(np.float32(coord))

print(ellipse)

print(f"example_200_-1000_500.png\t{ellipse[0][0]}\t{ellipse[0][1]}\t{ellipse[1][1]/2}\t{ellipse[1][0]/2}\t{ellipse[2]-90}")

image = cv.imread("example_200_-1000_500.png")

# 2d data printout:
rnd = lambda i: round(i)
res = 200
for c in coord:
    image[rnd(res*c[1]), rnd(res*c[0])] = [0,0,255]

cv.imshow('img', image)
cv.waitKey(0)